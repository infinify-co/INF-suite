<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <!-- iOS Specific Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="INFINIFY">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#111827">
    <!-- iOS Touch Icons (you can add these later) -->
    <!-- <link rel="apple-touch-icon" href="Logo's/INF.Asset1.png"> -->
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="Logo's/INF.Asset1.png"> -->
    <title>TechFlow - Advanced Automation Solutions</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- AWS Cognito -->
    <script src="https://unpkg.com/amazon-cognito-identity-js@6.3.0/dist/amazon-cognito-identity.min.js"></script>
    <script src="cognito-config.js"></script>
    <script src="cognito-auth.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <!-- Landing Page Header -->
    <header class="landing-header">
        <div class="landing-header-container">
            <div class="landing-header-logo">
                <a href="#home" class="landing-logo-link">
                    <img src="Logo's/INF.Asset1.png" alt="INF Logo" class="landing-logo-img">
                    <span class="landing-logo-text">INFINIFY</span>
                </a>
            </div>
            <nav class="landing-header-nav">
                <div class="nav-dropdown-wrapper">
                <a href="services.html" class="landing-nav-link">
                    Features
                    <i data-lucide="chevron-down" class="nav-chevron"></i>
                </a>
                    <div class="nav-dropdown-menu">
                        <div class="dropdown-grid">
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="zap"></i>
                                </div>
                                <h4>AI Automation</h4>
                                <p>Intelligent automation solutions powered by AI</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="bar-chart"></i>
                                </div>
                                <h4>Analytics</h4>
                                <p>Advanced analytics and data insights</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="database"></i>
                                </div>
                                <h4>Data Management</h4>
                                <p>Comprehensive data organization tools</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="shield"></i>
                                </div>
                                <h4>Security</h4>
                                <p>Enterprise-grade security features</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="cloud"></i>
                                </div>
                                <h4>Cloud Integration</h4>
                                <p>Seamless cloud service integration</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="users"></i>
                                </div>
                                <h4>Team Collaboration</h4>
                                <p>Tools for team productivity</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="nav-dropdown-wrapper">
                <a href="services.html" class="landing-nav-link">
                    Solutions
                    <i data-lucide="chevron-down" class="nav-chevron"></i>
                </a>
                    <div class="nav-dropdown-menu">
                        <div class="dropdown-grid">
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="briefcase"></i>
                                </div>
                                <h4>Enterprise</h4>
                                <p>Solutions for large organizations</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="building"></i>
                                </div>
                                <h4>Small Business</h4>
                                <p>Tailored solutions for growing businesses</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="code"></i>
                                </div>
                                <h4>Developers</h4>
                                <p>Tools and APIs for developers</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="graduation-cap"></i>
                                </div>
                                <h4>Education</h4>
                                <p>Solutions for educational institutions</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="heart"></i>
                                </div>
                                <h4>Healthcare</h4>
                                <p>Specialized healthcare solutions</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="shopping-cart"></i>
                                </div>
                                <h4>E-commerce</h4>
                                <p>Retail and e-commerce platforms</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="nav-dropdown-wrapper">
                    <a href="suite/work.html" class="landing-nav-link">
                        Industries
                    <i data-lucide="chevron-down" class="nav-chevron"></i>
                </a>
                    <div class="nav-dropdown-menu industries-dropdown">
                        <div class="dropdown-grid industries-grid">
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="building"></i>
                                </div>
                                <h4>Technology</h4>
                                <p>Solutions for tech companies</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="heart"></i>
                                </div>
                                <h4>Healthcare</h4>
                                <p>Healthcare industry solutions</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="graduation-cap"></i>
                                </div>
                                <h4>Education</h4>
                                <p>Educational institution tools</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="shopping-cart"></i>
                                </div>
                                <h4>Retail</h4>
                                <p>E-commerce and retail solutions</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="briefcase"></i>
                                </div>
                                <h4>Finance</h4>
                                <p>Financial services industry</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="package"></i>
                                </div>
                                <h4>Manufacturing</h4>
                                <p>Industrial automation solutions</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="truck"></i>
                                </div>
                                <h4>Logistics</h4>
                                <p>Transportation and logistics</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="store"></i>
                                </div>
                                <h4>Food & Beverage</h4>
                                <p>Restaurant and food services</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="home"></i>
                                </div>
                                <h4>Real Estate</h4>
                                <p>Property management solutions</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="plane"></i>
                                </div>
                                <h4>Travel & Hospitality</h4>
                                <p>Tourism and hotel management</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="film"></i>
                                </div>
                                <h4>Media & Entertainment</h4>
                                <p>Content creation and distribution</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="leaf"></i>
                                </div>
                                <h4>Energy & Utilities</h4>
                                <p>Power and energy management</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="nav-dropdown-wrapper">
                    <a href="#about" class="landing-nav-link">
                        Our Apps
                    <i data-lucide="chevron-down" class="nav-chevron"></i>
                </a>
                    <div class="nav-dropdown-menu">
                        <div class="dropdown-grid">
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="briefcase"></i>
                                </div>
                                <h4>Work</h4>
                                <p>Project management and collaboration</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="home"></i>
                                </div>
                                <h4>Home</h4>
                                <p>Your central dashboard</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="wrench"></i>
                                </div>
                                <h4>Tools</h4>
                                <p>Productivity and utility tools</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                        <i data-lucide="message-circle"></i>
                                </div>
                                <h4>Chats</h4>
                                <p>Team communication platform</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="dollar-sign"></i>
                                </div>
                                <h4>Financial</h4>
                                <p>Financial management tools</p>
                            </div>
                            <div class="dropdown-item">
                                <div class="dropdown-item-icon">
                                    <i data-lucide="database"></i>
                                </div>
                                <h4>Oceanbase</h4>
                                <p>Database management system</p>
                        </div>
                        </div>
                    </div>
                </div>
            </nav>
            <div class="landing-header-actions">
                <a href="#" class="landing-signup" id="launchAppHeader">Launch App</a>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="#home">
                    <img src="INF.logo2.png" alt="INF Logo" class="inf-logo-img">
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="services.html" class="nav-link">Services</a></li>
                <li><a href="suite/work.html" class="nav-link">Work</a></li>
                <li><a href="/Suite/financial.html" class="nav-link">Financials</a></li>
                <li><a href="#about" class="nav-link">About</a></li>
                <li><a href="#contact" class="nav-link">Contact</a></li>
            </ul>
            <a href="#" class="nav-signin" id="launchAppNav">Launch App</a>
            <div class="nav-actions">
                <button class="icon-btn" title="Chat">
                    <i data-lucide="message-circle"></i>
                </button>
                <button class="icon-btn" title="Settings">
                    <i data-lucide="settings"></i>
                </button>
            </div>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Log In</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary">Log In</button>
                <p>Don't have an account? <a href="#" id="showSignup">Sign up</a></p>
            </form>
            
            <form id="signupForm" style="display: none;">
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary">Sign Up</button>
                <p>Already have an account? <a href="#" id="showLogin">Log in</a></p>
            </form>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home" class="hero-image-section">
        <img 
            src="assets/blue-hero-hero.svg" 
            alt="Scale and manage everything in one place" 
            class="hero-image"
        >
    </section>

    <!-- Featured Product Rows -->
    <!-- Second Featured Product Rows section (duplicate) -->
    <section class="product-picks">
        <div class="picks-container">
            <h2 class="picks-heading">
                <span class="picks-heading-primary">Our app's</span>
            </h2>

            <div class="product-row">
                <article class="product-card">
                    <div class="product-art product-art-secondary product-art-suite">
                        <img src="assets/Suite.asset8.png" alt="Our Suite card" class="product-art-img">
                    </div>
                    <div class="product-body">
                        <span class="product-pill">New</span>
                        <h3 class="product-name">Our Suite</h3>
                        <p class="product-meta">Pre‑built analytics workspace for revenue teams.</p>
                        <p class="product-price">From $99/month</p>
                    </div>
                </article>

                <article class="product-card">
                    <div class="product-art product-art-tertiary"></div>
                    <div class="product-body">
                        <span class="product-pill">Popular</span>
                        <h3 class="product-name">Support Automation Kit</h3>
                        <p class="product-meta">AI agents, macros, and reports for support teams.</p>
                        <p class="product-price">From $149/month</p>
                    </div>
                </article>

                <article class="product-card">
                    <div class="product-art product-art-neutral"></div>
                    <div class="product-body">
                        <span class="product-pill">New</span>
                        <h3 class="product-name">Finance Control Center</h3>
                        <p class="product-meta">Cashflow, forecasting, and approvals in one view.</p>
                        <p class="product-price">From $129/month</p>
                    </div>
                </article>
                
                <!-- Separate card (keeps original gradient style) -->
                <article class="product-card">
                    <div class="product-art product-art-secondary"></div>
                    <div class="product-body">
                        <span class="product-pill">New</span>
                        <h3 class="product-name">Customer Insights Playbook</h3>
                        <p class="product-meta">Pre‑built analytics workspace for revenue teams.</p>
                        <p class="product-price">From $99/month</p>
                    </div>
                </article>
            </div>
        </div>
    </section>

    <div class="section-divider-white"></div>

    <!-- Featured Product Rows (duplicate) -->
    <section class="product-picks product-picks-bottom">
        <div class="picks-container">
            <h2 class="picks-heading">
                <span class="picks-heading-primary">Custom designed solutions</span>
            </h2>

            <div class="product-row">
                <article class="product-card">
                    <div class="product-art product-art-primary"></div>
                    <div class="product-body">
                        <span class="product-pill">New</span>
                        <h3 class="product-name">Workflow Studio</h3>
                        <p class="product-meta">Design and automate multi‑step business processes.</p>
                        <p class="product-price">From $129/month</p>
                    </div>
                </article>

                <article class="product-card">
                    <div class="product-art product-art-blue"></div>
                    <div class="product-body">
                        <span class="product-pill">Popular</span>
                        <h3 class="product-name">Analytics Hub</h3>
                        <p class="product-meta">Interactive dashboards for operations and finance teams.</p>
                        <p class="product-price">From $149/month</p>
                    </div>
                </article>
                
                <article class="product-card">
                    <div class="product-art product-art-purple"></div>
                    <div class="product-body">
                        <span class="product-pill">New</span>
                        <h3 class="product-name">Storage Cloud</h3>
                        <p class="product-meta">Secure object storage with built‑in versioning and sharing.</p>
                        <p class="product-price">From $79/month</p>
                    </div>
                </article>
                
                <article class="product-card">
                    <div class="product-art product-art-green"></div>
                    <div class="product-body">
                        <span class="product-pill">New</span>
                        <h3 class="product-name">API Gateway</h3>
                        <p class="product-meta">Manage and secure access to your internal APIs and services.</p>
                        <p class="product-price">From $99/month</p>
                    </div>
                </article>
            </div>
        </div>
    </section>

    <!-- Blank white page area -->
    <section class="blank-white-section"></section>

    <!-- Floating Chat Button -->
    <button class="floating-chat-button" id="floatingChatButton" aria-label="Ask a question">
        <div class="chat-button-icon">
            <i data-lucide="message-circle"></i>
        </div>
        <span class="chat-button-text">Ask a Question</span>
    </button>

    <!-- Chat Popup Modal -->
    <div class="chat-popup-modal" id="chatPopupModal">
        <div class="chat-popup-container">
            <div class="chat-popup-header">
                <button type="button" class="chat-popup-close" id="chatPopupClose" aria-label="Close chat">
                    <i data-lucide="minus"></i>
                </button>
            </div>
            <div class="chat-popup-content">
                <h2 class="chat-popup-title">How can we help?</h2>
                <div class="chat-popup-message">
                    <p>Hi! I'm here to answer your questions about our services and help you get started. Ask me anything!</p>
                </div>
                <div class="chat-quick-actions">
                    <button class="quick-action-btn">What services do you offer?</button>
                    <button class="quick-action-btn">How do I get started?</button>
                    <button class="quick-action-btn">Contact a sales rep</button>
                </div>
            </div>
            <div class="chat-popup-footer">
                <div class="chat-input-wrapper">
                    <input type="text" class="chat-popup-input" id="chatPopupInput" placeholder="Message us..." />
                    <button class="chat-popup-send" id="chatPopupSend" aria-label="Send message">
                        <i data-lucide="send"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Lucide icons
            if (window.lucide) lucide.createIcons();
            
            // Reinitialize icons when dropdowns are shown
            const dropdownWrappers = document.querySelectorAll('.nav-dropdown-wrapper');
            dropdownWrappers.forEach(wrapper => {
                wrapper.addEventListener('mouseenter', () => {
                    if (window.lucide) lucide.createIcons();
                });
            });

            // Handle Launch App button clicks
            const launchAppHeader = document.getElementById('launchAppHeader');
            const launchAppNav = document.getElementById('launchAppNav');

            const handleLaunchApp = async (e) => {
                e.preventDefault();
                
                // Wait for authManager to be available
                if (!window.authManager) {
                    await new Promise(resolve => setTimeout(resolve, 500));
                    if (!window.authManager) {
                        // If auth service not available, go to sign-in
                        window.location.href = 'sign-in.html';
                        return;
                    }
                }

                try {
                    // Check if user has logged in within last 3 days
                    const hasRecent = await window.authManager.hasRecentLogin(3);
                    
                    if (hasRecent) {
                        // User logged in recently, go directly to home
                        window.location.href = 'home.html';
                    } else {
                        // User hasn't logged in recently or not logged in, show sign-in
                        window.location.href = 'sign-in.html';
                    }
                } catch (error) {
                    console.error('Launch App check error:', error);
                    // On error, redirect to sign-in for safety
                    window.location.href = 'sign-in.html';
                }
            };

            if (launchAppHeader) {
                launchAppHeader.addEventListener('click', handleLaunchApp);
            }

            if (launchAppNav) {
                launchAppNav.addEventListener('click', handleLaunchApp);
            }

            // Chat popup functionality
            const floatingChatButton = document.getElementById('floatingChatButton');
            const chatPopupModal = document.getElementById('chatPopupModal');
            const chatPopupClose = document.getElementById('chatPopupClose');
            const chatPopupSend = document.getElementById('chatPopupSend');
            const chatPopupInput = document.getElementById('chatPopupInput');
            const quickActionBtns = document.querySelectorAll('.quick-action-btn');

            // Close chat popup function
            function closeChatPopup(e) {
                if (e) {
                    e.preventDefault();
                    e.stopPropagation();
                }
                if (chatPopupModal) {
                    chatPopupModal.classList.remove('active');
                }
            }

            // Close chat popup
            if (chatPopupClose) {
                chatPopupClose.addEventListener('click', closeChatPopup);
            }

            // Open chat popup
            if (floatingChatButton) {
                floatingChatButton.addEventListener('click', () => {
                    if (chatPopupModal) {
                        chatPopupModal.classList.add('active');
                        // Reinitialize icons after showing modal
                        if (window.lucide) lucide.createIcons();
                        // Focus on input after a short delay
                        setTimeout(() => {
                            if (chatPopupInput) {
                                chatPopupInput.focus();
                            }
                        }, 100);
                    }
                });
            }

            // Close on backdrop click
            if (chatPopupModal) {
                chatPopupModal.addEventListener('click', (e) => {
                    if (e.target === chatPopupModal) {
                        chatPopupModal.classList.remove('active');
                    }
                });
            }

            // Send message
            const sendMessage = () => {
                const message = chatPopupInput.value.trim();
                if (message) {
                    // Here you can add logic to handle the message
                    console.log('Message sent:', message);
                    // For now, just clear the input
                    chatPopupInput.value = '';
                }
            };

            if (chatPopupSend) {
                chatPopupSend.addEventListener('click', sendMessage);
            }

            if (chatPopupInput) {
                chatPopupInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }

            // Quick action buttons
            quickActionBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const question = btn.textContent;
                    chatPopupInput.value = question;
                    chatPopupInput.focus();
                    // Optionally auto-send
                    // sendMessage();
                });
            });
        });
    </script>
</body>
</html>